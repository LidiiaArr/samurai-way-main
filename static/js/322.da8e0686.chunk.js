"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[322],{1322:function(t,e,s){s.r(e),s.d(e,{default:function(){return U}});var n=s(8683),r=s(5671),o=s(3144),i=s(136),u=s(5716),a=s(2791),l="ProfileInfo_descriptionBlock__XBXuJ",c=s(4374),p=s(2814),d=s(885),f=s(184),h=function(t){var e=(0,a.useState)(!1),s=(0,d.Z)(e,2),n=s[0],r=s[1],o=(0,a.useState)(t.status),i=(0,d.Z)(o,2),u=i[0],l=i[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,f.jsx)("div",{children:n?(0,f.jsx)("div",{children:(0,f.jsx)("input",{type:"text",value:u,onChange:function(t){l(t.currentTarget.value)},onBlur:function(){r(!1),t.updateStatus(u)},autoFocus:!0})}):(0,f.jsxs)("div",{onDoubleClick:function(){r(!0)},style:{fontWeight:"bold"},children:["\u0421\u0442\u0430\u0442\u0443\u0441 : ",(0,f.jsxs)("span",{style:{fontWeight:"normal"},children:[" ",u]})]})})};function m(t){var e,s;return t.profile?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("img",{src:null!==(e=t.profile)&&void 0!==e&&null!==(s=e.photos)&&void 0!==s&&s.large?t.profile.photos.large:p,alt:"profile Photo"}),(0,f.jsx)(h,{status:t.status,updateStatus:t.updateStatus})]})}):(0,f.jsx)(c.Z,{})}var x=s(81),v=s(2982),j="MyPosts_postsBlock__lB-pf",g="MyPosts_posts__GSiZ2",y="Post_item__Yu4oG";function b(t){return(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("img",{src:"https://games.mail.ru/hotbox/content_files/news/2021/12/09/da11fab296d549999fa36b968a0333cc.jpg"}),t.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["like ",t.likesCount]})})]})}var P=s(6139),S=s(704),Z=s(3079),_=s(1117),k=a.memo((function(t){var e=(0,v.Z)(t.posts).reverse().map((function(t){return(0,f.jsx)(b,{message:t.message,likesCount:t.likesCount})}));return(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)(C,{onSubmit:function(e){t.addPost(e.newPostText)}}),(0,f.jsx)("div",{className:g,children:e})]})})),w=(0,Z.D)(10),C=(0,S.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(P.Z,{name:"newPostText",component:_.gx,placeholder:"Post message",validate:[Z.C,w]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),I=s(364),N=(0,I.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t((0,x.Wl)(e))}}}))(k);function A(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)(N,{})]})}var T=s(9271),B=s(7781),M=function(t){(0,i.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(+t),this.props.getStatus(+t)}},{key:"render",value:function(){return(0,f.jsx)(A,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(a.Component),U=(0,B.qC)((0,I.$j)((function(t){return{profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authorizedUserId:t.auth.userId}}),{getUserProfile:x.et,getStatus:x.lR,updateStatus:x.Nf}),T.EN)(M)},2814:function(t,e,s){t.exports=s.p+"static/media/single-user-icon-png-free--rLHSHx.c2b12d0011c453b98212.png"},885:function(t,e,s){s.d(e,{Z:function(){return r}});var n=s(181);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var n,r,o=[],i=!0,u=!1;try{for(s=s.call(t);!(i=(n=s.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(a){u=!0,r=a}finally{try{i||null==s.return||s.return()}finally{if(u)throw r}}return o}}(t,e)||(0,n.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=322.da8e0686.chunk.js.map